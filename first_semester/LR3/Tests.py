import unittest
from main import gen_bin_tree


# Тесты
class TestMath(unittest.TestCase):

    # Дерево меньшей глубины и корнем с заданными условиями формулы ветки
    def test_depth(self):
        self.assertEqual(gen_bin_tree(3, 10), {'10': [{'22': [{'46': []}, {'42': []}]}, {'18': [{'38': []}, {'34': []}]}]})

    # Меняем формулы веток на 3*(x+1) и 3*(x-1)
    def test_branches(self):
        self.assertEqual(gen_bin_tree(6, 15, lambda x: 3*(x+1), lambda x: 3*(x-1)), {'15': [{'48': [{'147': [{'444': [{'1335': [{'4008': []}, {'4002': []}]}, {'1329': [{'3990': []}, {'3984': []}]}]}, {'438': [{'1317': [{'3954': []}, {'3948': []}]}, {'1311': [{'3936': []}, {'3930': []}]}]}]}, {'141': [{'426': [{'1281': [{'3846': []}, {'3840': []}]}, {'1275': [{'3828': []}, {'3822': []}]}]}, {'420': [{'1263': [{'3792': []}, {'3786': []}]}, {'1257': [{'3774': []}, {'3768': []}]}]}]}]}, {'42': [{'129': [{'390': [{'1173': [{'3522': []}, {'3516': []}]}, {'1167': [{'3504': []}, {'3498': []}]}]}, {'384': [{'1155': [{'3468': []}, {'3462': []}]}, {'1149': [{'3450': []}, {'3444': []}]}]}]}, {'123': [{'372': [{'1119': [{'3360': []}, {'3354': []}]}, {'1113': [{'3342': []}, {'3336': []}]}]}, {'366': [{'1101': [{'3306': []}, {'3300': []}]}, {'1095': [{'3288': []}, {'3282': []}]}]}]}]}]})

    # Меняем все. формулы веток (l R): 4*(x+1) и 5*(x-1)
    def test_new_tree(self): 
        self.assertEqual(gen_bin_tree(4, 12, lambda x: 4*(x+1), lambda x: 5*(x-1)), {'12': [{'52': [{'212': [{'852': []}, {'1055': []}]}, {'255': [{'1024': []}, {'1270': []}]}]}, {'55': [{'224': [{'900': []}, {'1115': []}]}, {'270': [{'1084': []}, {'1345': []}]}]}]})


# Запуск тестов
if __name__ == '__main__':
    unittest.main()
    

